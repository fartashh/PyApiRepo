<link href="../static/css/signup.css" rel="stylesheet">

<div ng-controller="ProfileController" ng-init="action.init()">

    <h1 class="page-header">Profile</h1>


    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="signup-panel panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Update Profile</h3>
                </div>
                <div class="panel-body">
                    <form name="profile_form" novalidate ng-submit="action.update_profile()">
                        <fieldset>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-user"></i> </span>
                                <input class="form-control" placeholder="User Name" name="userName" type="text"
                                       ng-model="profile.userName" ng-minlength=3 ng-maxlength=10
                                       ng-disabled="true">
                            </div>
                            <div class="error" ng-show="profile_form.userName.$dirty && profile_form.userName.$invalid">
                                <small class="error" ng-show="profile_form.userName.$error.required">User name is
                                    required
                                </small>
                                <small class="error" ng-show="profile_form.userName.$error.minlength">User name is
                                    required to be at least 3 characters
                                </small>
                                <small class="error" ng-show="profile_form.userName.$error.maxlength">User name cannot be
                                    longer than 10 characters
                                </small>
                                <small class="error" ng-show="profile_form.userName.$error.unique">That username is
                                    taken, please try another
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-at"></i> </span>
                                <input class="form-control" placeholder="Email address" name="email" type="email"
                                       ng-model="profile.email"   ng-bind="user.email" ng-disabled="true">
                            </div>
                            <div class="error" ng-show="profile_form.email.$dirty && profile_form.email.$invalid">
                                <small class="error"
                                       ng-show="profile_form.email.$error.required">
                                    Your email is required.
                                </small>
                                <small class="error"
                                       ng-show="profile_form.email.$error.email">
                                    That is not a valid email. Please input a valid email.
                                </small>
                                <small class="error" ng-show="profile_form.email.$error.unique">That Email address is
                                    taken, please try another
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-key"></i> </span>
                                <input class="form-control" placeholder="Password" name="password" type="password"
                                       ng-minlength="6" ng-model="profile.password" required>
                            </div>
                            <div class="error" ng-show="profile_form.password.$dirty && profile_form.password.$invalid">
                                <small class="error"
                                       ng-show="profile_form.password.$error.required">
                                    password is required.
                                </small>
                                <small class="error"
                                       ng-show="profile_form.password.$error.minlength">
                                    Password is required to be at least 6 characters
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-key"></i> </span>
                                <input class="form-control" placeholder="Confirm Password" name="repassword"
                                       type="password" equals="profile_form.password" ng-model="profile.repassword"
                                       required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.repassword.$dirty && profile_form.repassword.$invalid">
                                <small class="error"
                                       ng-show="profile_form.repassword.$error.required">
                                    password is required.
                                </small>
                                <small class="error"
                                       ng-show="profile_form.password.$error.minLength">
                                    Password is required to be at least 6 characters
                                </small>
                                <small class="error" ng-show="profile_form.repassword.$error.equals">password mismatch
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-edit"></i> </span>
                                <input class="form-control" placeholder="First Name" name="firstName" type="text"
                                       ng-model="profile.firstName" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.firstName.$dirty && profile_form.firstName.$invalid">
                                <small class="error"
                                       ng-show="profile_form.firstName.$error.required">
                                    Your First name is required.
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-edit"></i> </span>
                                <input class="form-control" placeholder="Last Name" name="lastName" type="text"
                                       ng-model="profile.lastName" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.lastName.$dirty && profile_form.lastName.$invalid">
                                <small class="error"
                                       ng-show="profile_form.lastName.$error.required">
                                    Your Last name is required.
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-map-marker"></i> </span>
                                <input class="form-control" placeholder="Country" name="country" type="text"
                                       ng-model="profile.country" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.country.$dirty && profile_form.country.$invalid">
                                <small class="error"
                                       ng-show="profile_form.country.$error.required">
                                    Your Country is required.
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-location-arrow"></i> </span>
                                <input class="form-control" placeholder="City" name="city" type="text"
                                       ng-model="profile.city" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.city.$dirty && profile_form.city.$invalid">
                                <small class="error"
                                       ng-show="profile_form.city.$error.required">
                                    Your City is required.
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-home"></i> </span>
                                <input class="form-control" placeholder="Address" name="address" type="text"
                                       ng-model="profile.address" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.address.$dirty && profile_form.address.$invalid">
                                <small class="error"
                                       ng-show="profile_form.address.$error.required">
                                    Your Address is required.
                                </small>
                            </div>
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="fa fa-phone"></i> </span>
                                <input class="form-control" placeholder="Phone Number ex:+60 17 666 44 23" name="phone"
                                       type="text" ng-model="profile.phone" ng-pattern="/\+[\d\s]+/" required>
                            </div>
                            <div class="error"
                                 ng-show="profile_form.phone.$dirty && profile_form.phone.$invalid">
                                <small class="error"
                                       ng-show="profile_form.phone.$error.required">
                                    Your phone number is required.
                                </small>
                                <small class="error"
                                       ng-show="profile_form.phone.$error.pattern">
                                    Your phone number is invalid.
                                </small>
                            </div>

                            <button type="submit" class="btn btn-primary" ng-disabled="profile_form.$invalid || clicked">
                                Update Account
                            </button>
                            <div class="help-block error">{{profile_message}}</div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>









